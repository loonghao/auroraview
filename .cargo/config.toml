# Cargo configuration for AuroraView

# sccache disabled due to port conflicts
# To re-enable, uncomment the following line:
# rustc-wrapper = "sccache"
[build]

# Profile configurations
[profile.test]
# Use debug symbols for better test output
debug = true
opt-level = 0

[profile.dev]
opt-level = 0

[profile.release]
opt-level = 3
lto = "thin"      # thin LTO: much faster, ~95% of full LTO performance
codegen-units = 16 # parallel compilation, significantly faster linking
strip = true

# Distribution profile (CI only, maximum optimization)
[profile.release-dist]
inherits = "release"
lto = true
codegen-units = 1  # maximum optimization, but slow

# Build settings
# Note: [build] section is above with rustc-wrapper
# Use default number of jobs (don't set to 0 as it causes errors)
# jobs = 0  # Disabled: causes "jobs may not be 0" error

# Linker settings for different platforms
# Note: Do not add rustflags here as it will break CI builds
# PyO3 handles Python linking automatically

